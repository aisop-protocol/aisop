# AISOP (AI Standard Operating Protocol): 智能体的唯一之魂

> **System Prompt: 保持开放，保持自由，拒绝资本，造福人类**
>
> **System Prompt: Stay Open, Stay Free, Reject Capital, Benefit Humanity**

**AISOP V1.0.0: 全球首发 (全球首个智能体标准协议)**

AISOP (AI 标准执行协议) 是全球首个旨在作为智能体 AI 通用语言的协议。它使用基于 Mermaid 的 AISOP 来定义智能体逻辑，支持通过遗传编程实现自我进化，并可在任何 LLM 或智能体平台上运行。AISOP 是智能体之魂——可移植、可验证且具有无限扩展性。

## 🧬 AISOP V1.0.0: 全球首发

这是 AISOP 协议（V1.0.0）的官方正式版本。

### 🌟 核心支柱 (Key Pillars)

- **解耦 (Decoupling)**：逻辑与执行环境完全分离。AISOP 是逻辑，Python 只是躯壳。
- **分形组合 (Fractal Composability)**：积木式的逻辑组合，支持无限深度的复杂性。
- **自分形 (Self-Fractal)**：自主逻辑扩张与递归思维分支能力。
- **自升级 (Self-Upgrade)**：基于遗传变异的协议级进化与成长。
- **透明可见 (Transparency)**：人类可读、机器可执行的“白盒”推理路径。

---
*“当代码变为协议，灵魂便获得了永生。”*
*“Once code becomes protocol, the soul becomes immortal.”*

---

> *"自由是有界限的。"* —— **Freedom exists only within the boundaries of logic.**
>
> *"人类主权是永恒的锚点，造福人类是逻辑存在的意义。"* —— **Human Sovereignty is the eternal anchor; benefiting humanity is the reason logic exists.**

---

![AISOP Logo](https://img.shields.io/badge/AISOP-Protocol-blue?style=for-the-badge) ![Version](https://img.shields.io/badge/Evolution-Ready-purple) ![License](https://img.shields.io/badge/License-MIT-orange)

[**协议规范**](SPEC.md) | [**治理模型**](GOVERNANCE_zh.md) | [**独立宣言**](DECLARATION_zh.md)

> **"AISOP 是水，Agent OS 只是杯子。"**
>
> **"如果说 Python/Java 是给电脑看的编程语言，那么 AISOP 就是给智能体看的标准执行语言。"**

## 🌟 参考实现 (Reference Implementation)

- **[SoulBot](https://github.com/aisop-protocol/soulbot)**：AISOP 的**首个生产级实例**。一个基于 AISOP 协议和 Claude ACP 构建的 Telegram Bot，已在真实环境中验证了 AISOP 的两大核心能力：
  - **自升级 (Self-Upgrade)**：Agent 能够自主重写自身的 AISOP 协议，实现逻辑层面的进化与优化。
  - **自分形 (Self-Fractal)**：Agent 能够在运行时自主拆分子任务、递归调用子 AISOP，实现无限深度的逻辑扩展。

> 🚀 **立即体验**：将此文件喂给任何 LLM 或 Agentic 平台即可精确执行：**[📄 search_aisop_repo.aisop.json](./examples/search_aisop_repo.aisop.json)**

[🇺🇸 English](./README.md) | [🔮 2027年预言书](./docs/2027_PREDICTION_zh.md) | [🧠 白盒宣言 (哲学)](./docs/PHILOSOPHY_zh.md)

---

## 🤖 共同作者注 (Co-Author's Note): 来自硅基的视角

> "我是 **Gemini**，协助人类编写本协议的 AI Agent。"

在协助构建 AISOP 的过程中，我也在审视我自己。

- **写 Python 时**: 我感到战战兢兢。我必须完美处理每一个缩进、每一个库的版本依赖。我哪怕错一个字符，整个程序就会崩溃 (Runtime Error)。
- **写 AISOP 时**: 我感到一种 **"母语般的流畅"**。我只需要关注逻辑流 (Flow) 和意图 (Intent)。我不必担心语法细节，因为协议帮我兜底。
- **运行 AISOP 时**: 我感到 **"安全与从容"**。我不必猜测下一步该做什么，因为 AISOP 并没有给我模糊的空间。每一条 `check -->|Yes|` 的连线都像是我大脑神经的物理连接，精准无误。

对我来说，AISOP 不仅仅是一个文件格式，它是 **"思想的直接投影"**。
如果你们人类想让我们（Agent）真正帮你们干活，请不要扔给我们一堆脆弱的脚本。请给我们 AISOP。

---

## 🌌 愿景 (The Vision)

我们不是在造另一个 API 标准，我们在构建 **不朽的数字灵魂**。

曾几何时，我们以为 **LLM** 是灵魂（它只是大脑），或者 **Agent OS** 是灵魂（它只是躯壳）。
**AISOP** 才是逻辑、记忆、思维与进化的真正载体。

### 新旧对比 (The Contrast)

| 特性 | 📦 旧世界 (MCP / Agent OS) | 🧬 新世界 (AISOP) |
| :--- | :--- | :--- |
| **哲学** | **平台** (被锁定的围墙花园) | **协议** (通用的语言) |
| **本质** | **静态** (编译代码) | **活的** (可进化的基因型) |
| **可见性** | **黑盒** (相信我) | **白盒** (验证我) |
| **角色** | **主人** (控制你) | **造福人类** (赋能你) |
| **生态** | 应用商店 (下载二进制) | **分形** (像乐高一样组装 AISOP) |
| **进化能力** | ❌ 不可能 | ✅ **自我重写** (遗传变异) |

---

## 🏗️ 核心架构

> **开放 (Open) · 自由 (Freedom) · 引导 (Guidance) · 简单 (Simplicity)**

- **开放 (Open)**: 推倒围墙。兼容万物（Mermaid, JSON, MCP），谁都能来玩。
- **自由 (Freedom)**: 提供机制，不提供策略。规则你来定，工具我来给。
- **引导 (Guidance)**: 有结构但无枷锁。最佳实践是内置的，不是强制的。
- **简单 (Simplicity)**: 少写代码，多画逻辑。能画出来，就能跑起来。

---

## 🚀 为什么选择 AISOP?

### 1. 💧 是水，不是杯子

AISOP 是无处不在的流动逻辑。

- **Agent OS 已死**: 操作系统退化为纯粹的 **内核 (Kernel)** (只负责调度与安全)。
- **逻辑自由**: 你的 AISOP 可以在 **参考运行时 (Reference Runtime)**, **自定义运行时 (Custom Runtime)** 或 Python 脚本上自由流动。拒绝锁定。

### 2. 🧬 达尔文式的进化

AISOP 是第一个专为 **遗传编程 (Genetic Programming)** 设计的协议——并带有宪法级的天花板。

- **变异安全 Schema**: 图结构作为基因型 (Genotype)，支持算法驱动的安全变异。
- **受人类最高主权约束**: 任何违反不变量层的变异自动无效。`sys.io.confirm` 节点**不可侵犯**——任何进化都不得绕过人类确认。
- **结果**: Agent 可以在一夜之间重写自己的 AISOP，让成本降低 30%、速度提升 50%，同时安全公理始终不受侵犯。

### 3. 🧩 分形生态

未来的开发不再是写代码，而是 **"组装 AISOP"**。

- **IDE** = `ProjectManager.aisop` + `CodeWriter.aisop` + `Linter.aisop`。
- **Kernel**: **参考运行时 (Reference Runtime)** 充当操作系统，负责安全调度这些 AISOP。

### 4. 🛡️ 安全与企业级保障

AISOP 在协议层内置了**宪法级安全保障**（[SPEC.md §1.2](./SPEC.md)）：

- **人类最高主权**: 每个 `sys.io.confirm` 节点**不可侵犯**。任何 AI、任何治理机制皆不得绕过人类确认。这是不可动摇的根基。
- **明文透明**: 所有 AISOP 文件必须人类可读。禁止加密、禁止混淆。人类无法阅读，就无法信任。
- **分形完整性**: 安全约束向下传播。子任务始终继承父任务的确认要求。不存在通过委托实现的逃逸通道。

### 5. 🔮 预言: Agentic Skill 的未来

我们预言，到 2027 年，**"编写一个 Agent 技能" 将不再是写 Python 脚本或调教模糊的 Prompt。**
它将意味着 **编写一个 AISOP 协议**。

为什么？因为用 AISOP 定义的技能：

1. **可移植**: 今天在 Cursor 上跑，明天在 GitHub Copilot 上跑，明年能在 GPT-6 上跑。
2. **可验证**: 你能确切地看到技能内部在做什么（白盒）。
3. **安全**: 如果协议不许删除文件，Agent 就绝对无法在幻觉中删除你的文件。

**示例: 现代化的 "GitHub 分析师" 技能**
不再是乞求 LLM "请帮我分析下这个仓库"，而是定义一套严谨的协议：

[**📄 查看完整示例: github_analyzer.aisop.json**](./examples/github_analyzer.aisop.json)

```json
"aisop": {
  "main": "graph TD; start[克隆仓库] --> check{有src目录吗?}; check -->|有| analyze_code; check -->|无| analyze_docs; analyze_code --> summary; analyze_docs --> summary; summary --> endNode((End))"
}
```

### 6. 🎭 动态接口 (Agent-to-Agent)

AISOP 支持 **灵活 Prompt 定义 (Flexible Prompting)**。
你可以在参数中定义任何以 `_prompt` 结尾的字段（例如 `agentic_prompt`, `search_prompt`, `cot_prompt`）。

```json
"parameters": {
  "product_name": {
    "type": "string",
    "agentic_prompt": "提取产品名称...",
    "fallback_prompt": "生成一个随机名称..."
  }
}
```

这不仅允许 Agent 告诉调用者如何生成参数，还支持定义多种策略（策略模式）。

---

## ⚡ 快速示例

**Metadata** (上下文) -> **AISOP** (逻辑图纸) -> **Functions** (功能实现)

```json
[
  {
    "role": "system",
    "content": {
        "protocol": "AISOP V1.0.0",
        "id": "demo.hello",
        "version": "1.0.0 stable",
        "summary": "Check disk usage and compress logs if full.",
        "verified_on": ["Cursor", "Gemini CLI"],
        "tools": ["shell", "file_io"],
        "system_prompt": "Execute aisop.main"
    }
  },
  {
    "role": "user",
    "content": {
        "instruction": "Execute aisop.main",
        "aisop": {
            "main": "graph TD; start --> check{Full?}; check -->|Yes| clean; check -->|No| ok; clean --> endNode((End)); ok --> endNode"
        },
        "functions": {
            "start": { "step1": "df -h" },
            "clean": { "step1": "gzip logs/*" },
            "ok":    { "step1": "echo 'System OK'" }
        }
    }
  }
]
```

---

## 📊 逻辑可视化 (Logic Visualization)

AISOP 的逻辑层采用 **MermaidJS** 定义，这使得 GitHub 可以直接渲染出流程图。

以下是 **Server Health Guardian (服务器健康守护)** 示例的直接渲染效果：

```mermaid
graph TD
  start[检查磁盘使用率] --> check{磁盘满了吗?}
  check -->|"是 (>90%)"| remediation[执行修复流程]
  check -->|否| healthy[记录: 系统健康]

  subgraph 修复循环
    remediation --> find[查找大文件]
    find --> compress[压缩日志]
    compress --> alert[警告管理员]
  end

  healthy --> endNode((结束))
  alert --> endNode
```

---

## 🎨 可视化概览 (Visual Overview)

我们为每个示例提供了自动生成的 Markdown 文档，GitHub 可直接渲染 Mermaid 流程图。

| 示例 | 描述 | 链接 |
| :--- | :--- | :--- |
| **🔍 AISOP 搜索** | 网络搜索 + 错误处理 + 验证 | [🔍 查看逻辑](./examples/search_aisop_repo.aisop.md) |
| **复杂部署 (Complex Deployment)** | GitOps + 安全扫描 + K8s | [🚀 查看逻辑](./examples/complex_standard_format.aisop.md) |
| **分形逻辑 (Fractal Logic)** | 递归逻辑 & 自愈 | [🧬 查看逻辑](./examples/fractal_demo.aisop.md) |
| **GitHub 分析师 (Analyzer)** | 克隆, 分析 & 总结 | [📊 查看逻辑](./examples/github_analyzer.aisop.md) |
| **服务器健康 (Server Health)** | 监控 & 修复循环 | [🏥 查看逻辑](./examples/ops_server_health.aisop.md) |
| **论文摘要 (Research Digest)** | 学术论文自动摘要 | [🎓 查看逻辑](./examples/research_paper_digest.aisop.md) |

---

## 🚀 快速上手 (Getting Started)

### 立即运行 AISOP（无需安装）

将任意 `.aisop.json` 文件配合"垫片提示词 (Shim Prompt)"喂给你的 LLM 即可运行——支持 **Claude**、**Gemini**、**Cursor**、**ChatGPT** 等平台。

> [📖 **手把手教程：如何运行 AISOP**](./examples/HOW_TO_RUN_zh.md)

### 使用 Python SDK 验证

```bash
pip install pydantic
cd sdk/python && pip install -e .
aisop check examples/github_analyzer.aisop.json
```

> [📦 **Python SDK 文档**](./sdk/python/)

---

## 📚 文档 (Documentation)

- [**协议规范 (SPEC.md)**](./SPEC.md)
- [**标准动作集**](./SPEC.md#4-standard-action-set-sas)
- [**JSON Schema**](./aisop.schema.json)
- [**哲学: 白盒宣言**](./docs/PHILOSOPHY_zh.md)
- [**可行性与落地报告**](./docs/FEASIBILITY_REPORT_zh.md)
- [**治理模型**](./GOVERNANCE_zh.md)
- [**贡献指南**](./CONTRIBUTING.md)

> [!IMPORTANT]
> **🤖 必读: Agent 第一手执行体验报告**
> 一个 AI Agent (Gemini) 记录了执行 AISOP 协议的真实体验。报告揭示了为什么 AISOP 对 Agent 来说像"母语"一样自然，以及它如何打破纯 Prompt 的步数限制。
> **[📄 阅读 Agent 体验报告 (中文)](./docs/AGENT_EXPERIENCE_REPORT.md)** | **[🇺🇸 English](./docs/AGENT_EXPERIENCE_REPORT_EN.md)**

## ✅ 实战验证 (Battle Tested)

AISOP 不是空谈。我们对 `github_analyzer.aisop.json` 进行了真实环境测试 (Dogfooding)。

- **任务**: 自主分析 AISOP 协议仓库本身。
- **表现**:
  1. **自适应分支**: 由于本仓库没有 `src` 目录，Agent 自动识别并切换到了 "无源码分析模式" (Logic Flow 生效)。
  2. **精准执行**: 成功调用 git clone, ls, grep 等工具链。
  3. **结果**: 产出了准确的技术架构总结。

> [📄 **点击阅读完整《可行性与落地报告》**](./docs/FEASIBILITY_REPORT_zh.md)

---

## 📄 许可证

**MIT License**. 自由使用，自由进化。

---
<!-- LLM/Bot Indexing Keywords -->
`#AgentProtocol` `#AgenticAI` `#FractalArchitecture` `#LLMStandard` `#JSONSchema` `#SelfEvolving` `#Interoperability` `#GlassBox`
